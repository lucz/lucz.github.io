<!DOCTYPE html>
<html lang="zh-TW">
	<head>
		<meta charset='utf-8'>
		<title>讀秀超星電子書下載入門篇</title>
		<link rel="icon" href="/Assets/favicon.ico" type="image/x-icon" />
		<link rel="shortcut icon" href="/Assets/favicon.ico" type="image/x-icon" />
		<link rel="Bookmark" href="/Assets/favicon.ico">
		<link href="/Assets/style.css" type="text/css" rel="stylesheet">
		<link href="/Assets/pygments.css" type="text/css" rel="stylesheet">
	</head>
	<body>
		<div id="container">
			<h1>讀秀超星電子書下載入門篇</h1><br />
<div id="indexedcontent"><p>本文成型於 2012-11-15 ，最後修改於 2017-07-23 。</p>
<h2>超星公司基本架構</h2>
<p>本體當然是超星。<br />
然後他開設了一個叫<a href="http://www.duxiu.com" rel="external">讀秀</a>的東西，類似 Google Scholar ，但沒那麼完善，祇有書做得比較好。讀秀主要是通過銷售授權的方式給各機構使用，一般人只能「試用」。於是又有了一個鏡像<a href="http://www.ccelib.com/" rel="external">長春網絡圖書館</a>。又有一種特殊機構專用的，叫大醫，都是醫生用，跟讀秀非常像。<br />
超星和讀秀是超星公司的兩大主脈，由此衍生出很多支脈，比如超星在很多機構都有鏡像站，但是書籍清晰度不高，沒什麼價值。超星還在北美開了個分店，不過書不多。讀秀/指針也有很多分身，基本上就是替換了域名而已。<br />
我們關注超星和讀秀就可以了。</p>
<h2>什麼書可以下載到</h2>
<p>超星不是萬能的，不可能什麼書都有。超星主要掃描什麼書？由於超星的主要購買者是大學和研究機構，散戶不多，所以超星主要掃描通常高校館藏裡會有的書。也就是說，會稍微偏重學術類一些。由於超星主要藉助國內高校的館藏，因此國內出版的書籍佔了絕大多數。基本上，你需要的國內學術書有九成以上能找到，而台灣、香港學術書，成功率不到三成。<br />
對於超星未掃描，而購買了讀秀權限的機構又有實體書的，讀秀會製作一個鏈接。這種書我們叫「無試讀」，又諧音叫「五十度」。連同其他超星掃描並上傳了，但讀秀和超星都搜索不到的書，都叫「無試讀」。<br />
無試讀的書祇有超級高手能下載。<br />
我們能下載的書，祇有通過讀秀能搜索到，並且在有機構帳號的情況下，書籍名稱旁邊有「部分閱讀」或「包庫全文」再或「鏡像全文」的書。</p>
<h2>下載到什麼東西</h2>
<p>標準的超星格式是 pdg ，但下載到的書的文件夾裡，通常會有 <code>bookinfo.dat</code> 和 <code>bookcontent.dat</code> 兩個文件。前者給出書籍的版權信息，如書名、作者、出版社、年份等（經常有缺失，而且還有搞錯的），後者是書籤文件（錯誤往往比較多，有的還沒有）。<br />
我們又把下載到的 pdg 分爲幾等：<br />
第一等叫清晰版，分辨率爲 300dpi ，對於 32k 的書，他的圖像寬度總是在 1000 以上。清晰版有很多種加密格式，不過本文較多涉及的可以分爲四種。第一種叫作 04H ，就是彩圖，有時黑白的書也用這種格式，很浪費空間。第二種稱爲 00H ，是單純黑白的，沒有灰度，非常節約空間。第三種是高度加密格式，包括高密 pdg 和新出的 pdz ，用了適當工具後不會下載到高密 pdg ， pdz 是新東西，也很少見，不討論。第四種是 pdf ，這種不是標準的，而是具有超星特色的 pdf ，本人同樣不會下載，也不希望自己下載到的書變成這樣，不討論。<br />
第二等叫大圖，分辨率爲 150dpi ，寬度 983 。他會把黑白的書變成灰度的，所以體積經常比較大，看起來卻灰濛濛的。以前大圖還會加水印， 2014 年 7 月開始取消了水印。大圖如果沒下對就會變成寬度更小的中圖和小圖。由於沒有討論價值，本文不討論中圖和小圖。<br />
第三等叫快速版，分辨率爲 150dpi ，寬度——反正很小，字也不清楚，還經常好像缺了幾個筆劃一樣。一般出現在「鏡像全文」和一些不懂操作的低手那裡，沒有用處，不討論。<br />
第四等叫文本。文件名是 n\_n.pdg 格式，本質是文本 pdf ，但經過加密。這是超星掃描後 <span class="caps">OCR</span> 成文本的書，錯字連篇，比快速版還沒用。<br />
第五等是神祕的印前 pdg ，也就是出版社直接把小樣給了超星，超星轉成他的格式。這種格式文件命名規則和文本 pdg 一樣，但排版是正確的，而且很節約空間，而且特別清晰，但是可遇不可求，本「高手」就見過一次，效果非常好，是 9 開頭的號。<br />
綜上，正確下載的情況下，我們一般會下載到未加密的清晰版、大圖、文本三種。其中對學術研究有用的是清晰版和大圖。由於大圖明顯劣於清晰版，所以最好還是下載清晰版。</p>
<h2>下載了用什麼查看、檢查</h2>
<p>雖然官方閱覽器可以看，但是不好用，懂行的都用 UnicornViewer 看，版本越高越好，但高版本沒有向社會公佈。<br />
超星真的很過分，經常發生一頁祇下載了一半，或者乾脆某頁沒下載的情況，可以用 PdgThumbViewer 來檢查。<br />
二者的開發者是同一個人。順便說一下，二者均可用於檢驗下載到的書籍屬於哪一等。</p>
<h2>下載清晰版</h2>
<p>說起來似乎非常簡單。你登入讀秀，搜索你要的書，看到了，然後點「包庫全文」，再點紅色超星 logo ，自動打開超星閱覽器，右鍵，下載，就好了。或者你打開超星包庫，搜索，點「閱覽器閱讀」，自動打開超星閱覽器，右鍵，下載，也好了。<br />
滴滴——錯誤一，你看不到「包庫全文」字樣？說明你的機構沒有購買該書的權限，不能下載。你有兩個選擇：下大圖（後面會講）、換機構（後面也會講）。<br />
滴滴——錯誤二，點了「包庫全文」，卻發現打開的書竟然是文本的？這是個技術難題，有高手能解決，本「高手」不能。<br />
滴滴——錯誤三，下載後不能用 UnicornViewer 看。當然了，通過官方方式下載的，下載時閱覽器都會熱心的幫你加密一下。解決方法是：使用超星 4.0 ，並打上老鷹版 ssreader.exe 的補丁。<br />
滴滴——錯誤四，封面、書名頁、版權頁去哪裡了？答案是超星包庫沒有，祇有讀秀上有 150dpi 的。<br />
滴滴——錯誤五，其實書名頁是可以下載到清晰版的，就是用棒棒糖 CxCandy 。當超星裡正在閱讀某書的時候，點一下「全自動新建」，然後確定，下載，即可。</p>
<h2>下載大圖</h2>
<p>這是退而求次的無奈選擇。<br />
對於有「包庫全文」的書，還是比較容易換成大圖的。就是在點了「包庫全文」後進入的鏈接，把鏈接複製到專用工具裡，就行了。不過幾乎所有書籍都可以獲得大圖。方法就是，進入要下載的書籍的專頁後，點「圖書館文獻傳遞」，按要求輸入，然後郵箱會收到諮詢鏈接，處理方式同全文。諮詢有限制，需要多找幾個機構帳接力。<br />
讀秀經常調整，能使用的工具總是變來變去，但萬變不離其宗，特別是如果僅僅用大圖補版權頁、封面頁，在瀏覽器收藏夾加上這一段，然後在試讀頁點擊就可以顯示出來了。<br />
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">javascript</span><span class="o">:</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s2">&quot;&lt;a%20href=http://img.duxiu.com&quot;</span><span class="o">+</span><span class="nx">str</span><span class="o">+</span><span class="s2">&quot;leg001?.&amp;uf=ssr&amp;zoom=2&gt;leg001&lt;/a&gt;&lt;br&gt;&lt;a%20href=http://img.duxiu.com&quot;</span><span class="o">+</span><span class="nx">str</span><span class="o">+</span><span class="s2">&quot;cov001?.&amp;uf=ssr&amp;zoom=2&gt;cov001&lt;/a&gt;&lt;br&gt;&lt;a%20href=http://img.duxiu.com&quot;</span><span class="o">+</span><span class="nx">str</span><span class="o">+</span><span class="s2">&quot;cov002?.&amp;uf=ssr&amp;zoom=2&gt;cov002&lt;/a&gt;&lt;br&gt;&lt;a%20href=http://img.duxiu.com&quot;</span><span class="o">+</span><span class="nx">str</span><span class="o">+</span><span class="s2">&quot;bac001?.&amp;uf=ssr&amp;zoom=2&gt;bac001&lt;/a&gt;&lt;br&gt;&quot;</span><span class="p">)</span></code></pre></div></p>
<h2>超星及讀秀體系書籍的特點</h2>
<p>超星書籍下載下來，一般是「書名_ssid」這樣的一個文件夾，裏面有很多文件。這個 ssid 是一個八位數字，疑似從 10000001 開始，根據超星掃描的順序一個接着一個，所以看最新 ssid 的數値就能估計超星書籍的總量。但是，有事 ssid 會以 8 開頭——通常是套裝書。對於 8 開頭的書，如果使用 CxCandy 截獲同一套書中任意一本的報文，就能下載其餘。<br />
文件夾內，有一個 BookInfo.dat 代表書籍信息，比如書名、作者、出版年份、出版社等，還可能有一個 BookContents.dat 是目錄文件。而書籍圖像文件，一律是六位的，擴展名爲 pdg 。其中，封面是形如 cov001.pdg 這樣的，書名頁形如 bok001.pdg ，前言形如 fow001.pdg ，目錄形如 !00001.pdg ，正文形如 000001.pdg ，附錄形如 att001.pdg ，封底形如 bac001.pdg 。</p>
<h2>機構</h2>
<p>每個機構出的錢不同，讀秀給予的權限也不同。有的讀秀帳號根本不能直接讀全文，這就要看他的超星的具體情況。<br />
高檔機構包括但不限於同濟、華東理工、復旦、上交、華東師大、上海外國語、上海大學、上海師大、礦大、陝西師大、內蒙科大、北大、清華、南開、江西財大、中南財經政法、大醫、北航、北理珠海、楡林學院、景德鎭陶瓷學院<br />
由於全庫實在太貴，各機構不可能買完，而且超星對各機構上架書籍的更新時間不一，就出現了「江山代有機構出，各領風騷一兩年」的現象。<br />
比如，當年同濟、北理珠海、礦大、復旦、華東師範、上海大學等校均以書多聞名，奠定了現在網上超星 ss 號在 125 段之前的書籍基礎。但一段時間後，就有人發現陝西師大與同濟等校有極高的互補性，而且書比較新，在 126-128 段的非常多。後來江西財大異軍突起，接過 2012-2013 年度新書的棒子，包庫領跑 128-130 段。而 2014 年又殺出華東理工這個程咬金，書又多又新，號稱 180 萬，且有不少 130-132 段新書。<br />
一本書的下載地址，可以通過一下這段代碼找到。但可能獲取到的機構是「鏡像全文」的快速版。<br />
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">javascript</span><span class="o">:</span><span class="k">void</span><span class="p">((</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span><span class="o">%</span><span class="mi">20</span><span class="nx">a</span><span class="o">=</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot;bookDetail.jsp?dxNumber=&quot;</span><span class="p">,</span><span class="o">%</span><span class="mi">20</span><span class="s2">&quot;other.do?go=showmorelib&amp;dxid=&quot;</span><span class="p">);</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="o">=%</span><span class="mi">20</span><span class="nx">a</span><span class="o">%</span><span class="mi">20</span><span class="o">+</span><span class="s2">&quot;&amp;type=1&quot;</span><span class="p">;})())</span></code></pre></div></p>
<h2>後期處理</h2>
<p>超星有的書，掃描質量不好恭維，發白、發暗、有麻點，怎麼辦？<br />
最常見的辦法：先用 Pdg2Pic 轉成圖片，再用 ComicEnhancerPro 批量處理圖片，最後重命名爲 pdg ，或者用其他工具加密成 pdg 。<br />
最懶的辦法： MagicBeauty 直接處理。<br />
最好的辦法：別動，用高版本 UnicornViewer 開，並用他的圖像處理功能處理。<br />
還有人對轉換成 pdf 情有獨鐘。用 Pdg2Pic 即可。<br />
這裡倒是隨口扯一句非讀秀/超星的電子書，因爲這些書才是不規範、需要修正的。<br />
首先是 Google Books 。如果你下載的是英文書，那沒大問題，但中文古籍卻經常「倒裝」——洋人往往不知道我天朝的傳統書籍跟他們是倒過來的。簡單， PDFPatcher 就可以。 PDFPatcher 還可以用於 <span class="caps">PDF</span> 拆頁，但是 Google 很不厚道的把一些頁面挖下幾個字再補上去，如果你拆頁成圖片，這些補丁就回不去了……<br />
然後是網友自掃的書籍。一般來說，用 ComicEnhancerPro 就能收到比較好的效果，但對於一些比較變態的，就要用點特殊手段。PDF 倒是有海德堡插件和其他小軟件可以分頁，不過多數是假分頁，即，如果你真正導出圖片時，這些圖片還是沒分頁的。這時候用 ImageMagick 這個命令行操作的神軟更好。自掃經常碰上彩色的，非常佔空間，可以用 ComicEnhancerPro 或 ImageMagick 處理成單色。但有的掃描時書溝比較深，直接單色處理會使得靠近書溝的部分變成黑色的，還有如果用比較深色的筆做筆記，有時會蓋住字，單色的直接一團黑了。因此可能需要處理成灰度圖像，或者通過調整伽馬值、高亮、對比度、曲線等等多方面來達到滿意的效果。</p>
<h3>ImageMagick 實戰舉例</h3>
<p>大圖批量去水印而不改變其他部分（原理是利用水印的顏色去除）：<br />
mogrify -path newdir -fill white -opaque &#8220;rgb(238,238,238)&#8221; -colors 16 *.png<br />
批量將其他格式轉爲最緊湊的 tif ：<br />
mogrify -path newdir -compress group4 -format tif *.jpg<br />
批量去白邊：<br />
mogrify -path newdir -trim +repage *.tif<br />
批量對半切開，切好的文件自動命名爲超星標準的六位數：<br />
convert *.tif -crop 50%x100% +repage <span>06d.tif<br />
批量對半切開並去白邊，但切開時左右都是 52</span> ，且各放一個文件夾：<br />
mogrify -path a -gravity northwest -crop 52%x100% -trim +repage *.tif<br />
mogrify -path b -gravity northeast -crop 52%x100% -trim +repage *.tif<br />
批量放大一倍：<br />
mogrify -path newdir -resize 200% *.jpg<br />
批量轉 90 度：<br />
mogrify -path newdir -rotate -90 *.png<br />
批量傾斜校正（可能造成鋸齒化和體積增加）：<br />
mogrify -path newdir -background white -deskew 40% *.tif<br />
以上都是簡單命令，還可以結合 <span class="caps">CMD</span> 設置複雜化的命令。</p>
<h2>結論</h2>
<p>一、要下就下清晰或印前 pdg<br />
二、準備好同濟、復旦、陝西師大、江西財大、華東理工等帳號，高檔機構多多益善<br />
三、清晰 pdg 需要超星、棒棒糖協作下載，然後用 UnicornViewer 閱讀<br />
四、自己下不到，就去求書<br />
五、求書帖沒人搭理，再下大圖<br />
六、叢書儘量別自己慢慢下<br />
七、下載回來的東西儘量不做有損處理，以免他日後悔，要麼就備份後再處理</p></div>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script><script type="text/javascript">
	$(document).ready(function(){
			var isMobile = {
				Android: function() {
					return navigator.userAgent.match(/Android/i);
				}
				,BlackBerry: function() {
					return navigator.userAgent.match(/BlackBerry/i);
				}
				,iOS: function() {
					return navigator.userAgent.match(/iPhone|iPad|iPod/i);
				}
				,Opera: function() {
					return navigator.userAgent.match(/Opera Mini/i);
				}
				,Windows: function() {
					return navigator.userAgent.match(/IEMobile/i);
				}
				,any: function() {
					return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
				}
			};

		$('.entry a').each(function(index,element){
			var href = $(this).attr('href');
			if(href){
				if(href.indexOf('#') == 0){
				}else if ( href.indexOf('/') == 0 || href.toLowerCase().indexOf('821.github.com')>-1 ){
				}else if ($(element).has('img').length){
				}else{
					$(this).attr('target','_blank');
					$(this).addClass('external');
				}
			}
		});

		if($('h2').length > 2 && !isMobile.any()){
			var h2 = [],h3 = [],tmpl = '<ul>',h2index = 0;

			var findScrollableElement = function(els) {
				for (var i = 0, argLength = arguments.length; i < argLength; i++) {
					var el = arguments[i],
					$scrollElement = $(el);
					if ($scrollElement.scrollTop() > 0) {
						return $scrollElement;
					} else {
						$scrollElement.scrollTop(1);
						var isScrollable = $scrollElement.scrollTop() > 0;
						$scrollElement.scrollTop(0);
						if (isScrollable) {
							return $scrollElement;
						}
					}
				}
				return [];
			};

			$.each($('h2,h3'),function(index,item){
				if(item.tagName.toLowerCase() == 'h2'){
					var h2item = {};
					h2item.name = $(item).text();
					h2item.id = 'menuIndex'+index;
					h2.push(h2item);
					h2index++;
				}else{
					var h3item = {};
					h3item.name = $(item).text();
					h3item.id = 'menuIndex'+index;
					if(!h3[h2index-1]){
						h3[h2index-1] = [];
					}
					h3[h2index-1].push(h3item);
				}
				item.id = 'menuIndex' + index
			});

			for(var i=0;i<h2.length;i++){
				tmpl += '<li><a href="#" data-id="'+h2[i].id+'">'+h2[i].name+'</a></li>';
				if(h3[i]){
					for(var j=0;j<h3[i].length;j++){
						tmpl += '<li class="h3"><a href="#" data-id="'+h3[i][j].id+'">'+h3[i][j].name+'</a></li>';
					}
				}
			}
			tmpl += '</ul>';

			var $scrollable = findScrollableElement('body','html');
			$('body').append('<div id="menuIndex"></div>');
			$('#menuIndex').append($(tmpl)).delegate('a','click',function(e){
				e.preventDefault();
				var scrollNum = $(this).attr('data-top') || $('#'+$(this).attr('data-id')).offset().top;
				//window.scrollTo(0,scrollNum-30);
				$scrollable.animate({ scrollTop: scrollNum-30 }, 400, 'swing');
			})

			$(window).load(function(){
				var scrollTop = [];
				$.each($('#menuIndex li a'),function(index,item){
					if(!$(item).attr('data-top')){
						var top = $('#'+$(item).attr('data-id')).offset().top;
						scrollTop.push(top);
						$(item).attr('data-top',top);
					}
				});

				$(window).scroll(function(){
					var nowTop = $(window).scrollTop(),index,length = scrollTop.length;
					if(nowTop+60 > scrollTop[length-1]){
						index = length
					}else{
						for(var i=0;i<length;i++){
							if(nowTop+60 <= scrollTop[i]){
								index = i
								break;
							}
						}
					}
					$('#menuIndex li').removeClass('on')
					$('#menuIndex li').eq(index).addClass('on')
				});
			});
			//用js计算屏幕的高度
			$('#menuIndex').css('max-height',$(window).height()-80);
		}
	});
</script>

<div id="co-in">
	<div id="comments"><div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'inrely';
	//var disqus_identifier = '/DX-CX/';
	//var disqus_url = '/DX-CX/';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script></div>
	<div id="post-info">發佈於<br />2012-11-15<br /><br />
分類<br />
<br /><br />
標籤<br />
</div>
</div>
		</div>
		<footer><script src="http://api.html5media.info/1.1.5/html5media.min.js"></script>
<script>audiojs.events.ready(function() {var as = audiojs.createAll();});</script>
<script type="text/javascript">$(document).ready(function(){$("a[rel='external'],a[rel='external nofollow']").click(function(){window.open(this.href);return false})})</script>
<a href="/">奚適而惡乎待哉</a> | <a href="/about">存中</a> &copy 2005-2014 CC NC-ND | <a href="https://github.com/821/821.github.com">源碼</a> <a href="/archive">全站快讀</a> | <a href="/Projects">項目</a><br />
<a href="/categories#勿忘在莒">勿忘在莒<span class="upper">4</span></a> <a href="/categories#自選集">自選集<span class="upper">21</span></a> <a href="/categories#網誌">網誌<span class="upper">74</span></a> <a href="/categories#隻言片語">隻言片語<span class="upper">3</span></a> <a href="/categories#挨踢">挨踢<span class="upper">11</span></a>  <a href="/Notes">筆記</a></footer>
	</body>
</html>