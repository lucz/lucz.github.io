<!DOCTYPE html>
<html lang="zh-TW">
	<head>
		<meta charset='utf-8'>
		<title>靜態網站不缺空間</title>
		<link rel="icon" href="/Assets/favicon.ico" type="image/x-icon" />
		<link rel="shortcut icon" href="/Assets/favicon.ico" type="image/x-icon" />
		<link rel="Bookmark" href="/Assets/favicon.ico">
		<link href="/Assets/style.css" type="text/css" rel="stylesheet">
		<link href="/Assets/pygments.css" type="text/css" rel="stylesheet">
	</head>
	<body>
		<div id="container">
			<h1>靜態網站不缺空間</h1><br />
<div id="indexedcontent"><p>靜態個人站的站長似乎和動態站站長生活在兩個世界，比如書寫，比如更新，比如搬家。體驗最不同的，當屬空間。基本上，祇要是能夠給出直鏈的空間，都可以使用。<br />
然後請注意，我這裡討論的是如何把一些空間用來免費做靜態站，換言之，我不會介紹這些空間的其他功能，也不會討論付費的情形。由於符合條件且服務穩定、速度較高的空間非常多，我就不一一列舉了，祇採取重點介紹的方式。還有就是我的分類比較隨意，不要太當真。<br />
話說，本文再次證明一個事實：我老人家一篇文章的信息量經常和別人一個類別下的文章信息量差不多。祇不過我老人家從來不針對新手，不搞溫馨，提供思路和概要，供讀者自由思考實踐。</p>
<h2>多語言系</h2>
<h3>Heroku</h3>
<p>免費雲的鼻祖，放在 Amazon EC2 。雖然收費空間貴，不過免費的也很好用。支持的語言有 Ruby, Node.js, Clojure ，但其實可以用 <span class="caps">PHP</span> 的。他提供 512MB <span class="caps">RAM</span>, 5MB database, 100MB 存儲空間和 1GB 交互空間。如果流量太大，他是受不了的。</p>
<h3>Openshift</h3>
<p>Redhat 旗下的空間。 3GB 空間， 1.5GB <span class="caps">RAM</span> ，服務器是 Amazon EC2 東海岸。支持的語言很多，包括 Ruby, Java, Java EE, Ruby, Node.js, Python, <span class="caps">PHP</span>, Perl ，數據庫可以用 MySQL, PostgreSQL, MongoDB, MemBase, Memcache （不過這些都跟我沒關係），速度也不錯，聯通尤佳。上傳方面，支持 <span class="caps">SFTP</span> ，可使用 Git （所以歸類爲 Ruby 系亦可）。<br />
不過呢，這個空間很多人拿來做非法站，百度已經 K 站了， <span class="caps">GFW</span> 還會遠嗎？</p>
<h3>其他</h3>
<p>其他多語言空間，如 CloudFoundry, AppFog, dotCloud 區別祇是空間和流量政策，上傳基本上都支持 Git ，有的同時可以用其他 <span class="caps">SFTP</span> 工具。能 Git 還是多 Git ，速度快，而且有版本控制。</p>
<h2>Ruby 系</h2>
<h3>GitHub</h3>
<p>我們當然要從源頭講起。 GitHub 的空間並不大，單個 repository 爲 1GB ，超過會被發郵件，沒有流量限制。他的優點在於社區交互，做站有問題，多上去問問。電信 <span class="caps">ADSL</span> 實測 GitHub 的速度非常好，達到了 200KB/s ，相當理想了。<br />
GitHub 已於 2013 年 1 月 21 日得到高牆的全面驗證，僅能通過代理上傳，但綁定了域名的網站仍然可以訪問。</p>
<h2>Python 系</h2>
<h3>Google AppEngine</h3>
<p>應該是最有名、老牌的 PaaS 了。單文件限制 32MB ，空間是 500MB ，流量每天上下行各 1GB ，還有請求限制，對於某些流量大的站，可能需要外鏈音樂和圖片。由於或多或少的濫用，該空間早已牆而又牆，所幸 IP 無恙，綁定了域名還能用。不過我不認爲他是做靜態站的好地方，因爲上傳需要 Google 的環境，但這一環境顯然不像 Git 那樣好用。</p>
<h3>SeattleGENI</h3>
<p>這是給學生和研究人員的平臺，華盛頓大學出品。限制比 <span class="caps">GAE</span> 少，速度不如。</p>
<h2><span class="caps">PHP</span> 系</h2>
<h3>各種 Shared Hosting</h3>
<p>Shared hosting 是比較常見的個人網站空間（沒人用獨立服務器吧）。網上有很多免費空間，但大家總說「免費的是最貴的」，用以強調宕機和跑路帶來的麻煩。我也用過收費空間，確實穩定省心——特別是如果你把續費週期設定得比較長。 上傳的時候， rsync 和 WinSCP 都是比較好用的工具。 WinSCP 的同步功能非常好用，不過有點卡。 不過，基本上免費的 shared hosting 沒有什麼高速空間，而且有的有廣告，穩定性也往往不如後面介紹的多款空間。相對比較穩定的有 000webhost, awardspace, 110MB, xoom.it ，但速度很普通甚至牆了，建議用 <span class="caps">CDN</span> 加速——但要注意，很多 <span class="caps">CDN</span> 不會加速 html ，祇緩存 js, css 等文件。</p>
<h3>SourceForge</h3>
<p>曾經的開源老大，現在被 GitHub 超越了。空間非常優秀，甚至提供了 PHP+MySQL 環境，而且綁定域名之類的操作也相當完善，就算不用自己的域名，也可以用 name.sf.net 的短網址來跳轉。一般地，用 WinSCP 就可以了。基本上用他的空間跟用你買來的空間沒有多大區別。<br />
但是， SF 顯然有些樹大招風了。正因爲他提供的服務實在太完美了（除了文件的權限），很多變態用來作惡。而且，網站上也出現了一些反中的項目如 Notepad++ ，導致 SF 多次被牆。這些都埋下了不安的因素。</p>
<h3>其他</h3>
<p>其他，比如 PhpCloud, PHPFog, pagodabox, CloudControl ，限制普遍比較嚴格，規模也不算大，我們就不討論了。</p>
<h2>純靜態系</h2>
<h3>BitBucket</h3>
<p>GitHub 上的私有項目是收費的，這家免費，而且空間無限。 Git 是他家後期加上的，早期僅支持 Hg ，一個學習曲線比較平緩的傢伙，不過現在我用批處理文件在 Windows 上做上傳，所以 Git 輕鬆無壓力。雖然空間和私有方面有優勢，我還是比較喜歡用 GitHub ，因爲 BitBucket 無法實現在綫生成網站，需要本地編譯，這樣就增加了我本地腳本的運行時間，不爽。</p>
<h3>Dropbox</h3>
<p>可以把編譯好的文件夾和 Dropbox 內的某個文件夾用軟件同步，然後他自動上傳。 Dropbox 的空間算是相當寬裕了，沒有單文件限制，空間 2.5GB 起，刷到 20GB 以上很簡單。但是，不建議在 Dropbox 文件夾裡編輯文章或做項目，因爲當有文件衝突的時候，本地明明比雲端還新的文件經常被莫名覆蓋。由於 Dropbox 域名被牆，而且畢竟鏈接很長，最佳情況是 .htaccess 反向代理綁定特短域名，但反向代理又會嚴重拖慢響應速度，很是矛盾。如果用 <span class="caps">CDN</span> ，速度雖快，域名又不夠短。<br />
<div class="highlight"><pre><code class="language-bash" data-lang="bash">RewriteEngine On
RewriteBase /
RewriteRule ^<span class="o">(</span>.*<span class="o">)</span><span class="nv">$ </span>http://dl.dropbox.com/u/<span class="nv">$1</span> <span class="o">[</span>P<span class="o">]</span></code></pre></div><br />
另外有個消息，據說 Dropbox 購買了 dbstatic.com 這個域名。也許未來 Dropbox 會開發靜態空間功能？</p>
<h3>Google Code</h3>
<p>Google Code 空間 2GB ,單文件 100MB ，但你的空間域名是形如 http://projectname.googlecode.com/svn/trunk/ 的一大串，而且 <span class="caps">GFW</span> 早已盯上這個擁有大量基於 <span class="caps">GAE</span> 的免費翻越軟件空間，很多項目都封鎖了。 Google Code 支持 svn/hg/Git 上傳，網頁上傳也做得很簡潔。他是 Google 裡我最喜歡的三樣東西之一 (Code, <span class="caps">GAE</span>, Chrome).</p>
<h3>其他</h3>
<p>除了 GitHub 和 BitBucket ， Git Hosting 很多的，kernel.org 還做了一個<a href="https://git.wiki.kernel.org/index.php/GitHosting" rel="external">頁面</a>來歸納，由於多數比較雷同，就不介紹了。空間大小方面，倒是有不少大於 GitHub 的，但是我們應該考慮到各方面問題。總體來說， Git 系不適合小白，但上手後還是比較舒服的。 Git 作爲一款上傳工具，無疑非常強大，版本控制、分支融合都令人愛不釋手，而且上傳速度是經過特殊優化的，比 WinSCP 快很多。同時由於技術門檻的存在，我們也不必過度擔心牆的問題。</p>
<h2>其他語言系</h2>
<p>很多開源項目空間都提供空間，維基上有<a href="http://en.wikipedia.org/wiki/Source_code_repository" rel="external">總結</a>。</p>
<h2>中國大陸系</h2>
<p>中國是世界上最特殊的國家。由於政體的關係，中國的網絡、新聞、社區、商業、經濟都跟別的國家很不同。有鑒於此，中國系的平臺當然跟別國不同。<br />
中國其實沒什麼免費平臺，主要就是 <span class="caps">SAE</span>, <span class="caps">BAE</span>, <span class="caps">CAE</span> 。 <span class="caps">SAE</span> 一開始還算比較友好，但不到三週年的時候，真面目就露出來，踢走免費用戶了。 <span class="caps">BAE</span> 一開始限制就很多。 <span class="caps">CAE</span> 倒是比 <span class="caps">BAE</span> 好，但將來肯定會收費，祇是不知道會不會像 <span class="caps">GAE</span> 那樣留下免費的額度。<br />
中國還有一些免費全能空間，如惡名遠揚的主機屋，根本不值得嘗試。而且，光是綁定域名的事情，就已經噁心到想吐了。<br />
加上制度問題，反正我不會用。</p>
<h2>結論</h2>
<p>對於存放自己靜態站的空間，幾個問題顯得至關重要：速度、上傳方式、綁定域名、是否被牆、流量、空間大小。速度包括出口帶寬和 ping （本來 ping 沒有那麼重要，但是因爲靜態站很快， ping 高了也會有感覺）。上傳方式以自動上傳的 Dropbox 最善， Git 如何自己寫一個 bat 來做上傳也還行，其他 <span class="caps">SVN</span> 或 <span class="caps">SFTP</span> 也勉強合格。綁定域名除了 Dropbox, Google Code 這些不原生支持，而且沒有專用二級域名的顯得比較不便，其他都很好。高牆限制了一些技術難度低的熱門應用，如 Dropbox ，但 <span class="caps">CDN</span> 綁定域名可以直接翻過去。流量和空間對小站來說不是問題，除非做音樂站，但音樂站涉及版權問題，相信不是那麼好做的。對國人而言，沒有完美的免費空間，甚至收費的都不完美。</p></div>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script><script type="text/javascript">
	$(document).ready(function(){
			var isMobile = {
				Android: function() {
					return navigator.userAgent.match(/Android/i);
				}
				,BlackBerry: function() {
					return navigator.userAgent.match(/BlackBerry/i);
				}
				,iOS: function() {
					return navigator.userAgent.match(/iPhone|iPad|iPod/i);
				}
				,Opera: function() {
					return navigator.userAgent.match(/Opera Mini/i);
				}
				,Windows: function() {
					return navigator.userAgent.match(/IEMobile/i);
				}
				,any: function() {
					return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
				}
			};

		$('.entry a').each(function(index,element){
			var href = $(this).attr('href');
			if(href){
				if(href.indexOf('#') == 0){
				}else if ( href.indexOf('/') == 0 || href.toLowerCase().indexOf('821.github.com')>-1 ){
				}else if ($(element).has('img').length){
				}else{
					$(this).attr('target','_blank');
					$(this).addClass('external');
				}
			}
		});

		if($('h2').length > 2 && !isMobile.any()){
			var h2 = [],h3 = [],tmpl = '<ul>',h2index = 0;

			var findScrollableElement = function(els) {
				for (var i = 0, argLength = arguments.length; i < argLength; i++) {
					var el = arguments[i],
					$scrollElement = $(el);
					if ($scrollElement.scrollTop() > 0) {
						return $scrollElement;
					} else {
						$scrollElement.scrollTop(1);
						var isScrollable = $scrollElement.scrollTop() > 0;
						$scrollElement.scrollTop(0);
						if (isScrollable) {
							return $scrollElement;
						}
					}
				}
				return [];
			};

			$.each($('h2,h3'),function(index,item){
				if(item.tagName.toLowerCase() == 'h2'){
					var h2item = {};
					h2item.name = $(item).text();
					h2item.id = 'menuIndex'+index;
					h2.push(h2item);
					h2index++;
				}else{
					var h3item = {};
					h3item.name = $(item).text();
					h3item.id = 'menuIndex'+index;
					if(!h3[h2index-1]){
						h3[h2index-1] = [];
					}
					h3[h2index-1].push(h3item);
				}
				item.id = 'menuIndex' + index
			});

			for(var i=0;i<h2.length;i++){
				tmpl += '<li><a href="#" data-id="'+h2[i].id+'">'+h2[i].name+'</a></li>';
				if(h3[i]){
					for(var j=0;j<h3[i].length;j++){
						tmpl += '<li class="h3"><a href="#" data-id="'+h3[i][j].id+'">'+h3[i][j].name+'</a></li>';
					}
				}
			}
			tmpl += '</ul>';

			var $scrollable = findScrollableElement('body','html');
			$('body').append('<div id="menuIndex"></div>');
			$('#menuIndex').append($(tmpl)).delegate('a','click',function(e){
				e.preventDefault();
				var scrollNum = $(this).attr('data-top') || $('#'+$(this).attr('data-id')).offset().top;
				//window.scrollTo(0,scrollNum-30);
				$scrollable.animate({ scrollTop: scrollNum-30 }, 400, 'swing');
			})

			$(window).load(function(){
				var scrollTop = [];
				$.each($('#menuIndex li a'),function(index,item){
					if(!$(item).attr('data-top')){
						var top = $('#'+$(item).attr('data-id')).offset().top;
						scrollTop.push(top);
						$(item).attr('data-top',top);
					}
				});

				$(window).scroll(function(){
					var nowTop = $(window).scrollTop(),index,length = scrollTop.length;
					if(nowTop+60 > scrollTop[length-1]){
						index = length
					}else{
						for(var i=0;i<length;i++){
							if(nowTop+60 <= scrollTop[i]){
								index = i
								break;
							}
						}
					}
					$('#menuIndex li').removeClass('on')
					$('#menuIndex li').eq(index).addClass('on')
				});
			});
			//用js计算屏幕的高度
			$('#menuIndex').css('max-height',$(window).height()-80);
		}
	});
</script>

<div id="co-in">
	<div id="comments"><div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'inrely';
	//var disqus_identifier = '/How-to-Host-a-Static-Site';
	//var disqus_url = '/How-to-Host-a-Static-Site';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script></div>
	<div id="post-info">發佈於<br />2012-09-18<br /><br />
分類<br />

<span class="tag"><a href="/categories.html#挨踢">挨踢</a></span>
<br /><br />
標籤<br />

<span class="tag"><a href="/tags.html#電腦">電腦</a></span>

<span class="tag"><a href="/tags.html#中國">中國</a></span>
</div>
</div>
		</div>
		<footer><script src="http://api.html5media.info/1.1.5/html5media.min.js"></script>
<script>audiojs.events.ready(function() {var as = audiojs.createAll();});</script>
<script type="text/javascript">$(document).ready(function(){$("a[rel='external'],a[rel='external nofollow']").click(function(){window.open(this.href);return false})})</script>
<a href="/">奚適而惡乎待哉</a> | <a href="/about">存中</a> &copy 2005-2014 CC NC-ND | <a href="https://github.com/821/821.github.com">源碼</a> <a href="/archive">全站快讀</a> | <a href="/Projects">項目</a><br />
<a href="/categories#勿忘在莒">勿忘在莒<span class="upper">4</span></a> <a href="/categories#自選集">自選集<span class="upper">21</span></a> <a href="/categories#網誌">網誌<span class="upper">74</span></a> <a href="/categories#隻言片語">隻言片語<span class="upper">3</span></a> <a href="/categories#挨踢">挨踢<span class="upper">11</span></a>  <a href="/Notes">筆記</a></footer>
	</body>
</html>